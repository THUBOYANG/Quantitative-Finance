<?xml version="1.0" encoding="utf-8"?>
<App>
  <root xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" SoftVersion="8.1.5.0" DBVersion="V2.7.2.14">
    <Funcs />
    <Tactics>
      <Tactic Code="DualT2" Name="DualThrust2" ShowMode="Main" FuncRetType="Void" SrcText="//------------------------------------------------------------------------&#xD;&#xA;// 简称: DualT2&#xD;&#xA;// 名称: DualThrust2&#xD;&#xA;// 类别: 公式应用&#xD;&#xA;// 类型: 用户应用&#xD;&#xA;// 输出: Void&#xD;&#xA;//------------------------------------------------------------------------&#xD;&#xA;Params&#xD;&#xA;Numeric K1(0.5);&#xD;&#xA;Numeric K2(0.5);&#xD;&#xA;Numeric Mday(1);&#xD;&#xA;Numeric Nday(1);&#xD;&#xA;Numeric lots(1);&#xD;&#xA;&#xD;&#xA;Vars&#xD;&#xA;Numeric BuyRange(0);&#xD;&#xA;Numeric SellRange(0);&#xD;&#xA;Numeric BuyTrig(0);&#xD;&#xA;Numeric SellTrig(0);&#xD;&#xA;Numeric HH;&#xD;&#xA;Numeric LL;&#xD;&#xA;Numeric HC;&#xD;&#xA;Numeric LC;&#xD;&#xA;Numeric BuyPosition;&#xD;&#xA;Numeric SellPosition;&#xD;&#xA;&#xD;&#xA;Begin&#xD;&#xA;If(CurrentBar &gt; 44*Max(Mday,Nday))&#xD;&#xA;{&#xD;&#xA;        HH = Highest(HighD(1),Mday);&#xD;&#xA;        HC = Highest(CloseD(1),Mday);&#xD;&#xA;        LL = Lowest(LowD(1),Mday);&#xD;&#xA;        LC = Lowest(CloseD(1),Mday);&#xD;&#xA;&#xD;&#xA;        If((HH - LC) &gt;= (HC - LL))&#xD;&#xA;        {&#xD;&#xA;                SellRange = HH - LC;&#xD;&#xA;        }&#xD;&#xA;        Else&#xD;&#xA;        {&#xD;&#xA;                SellRange = HC - LL;&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        HH = Highest(HighD(1),Nday);&#xD;&#xA;        HC = Highest(CloseD(1),Nday);&#xD;&#xA;        LL = Lowest(LowD(1),Nday);&#xD;&#xA;        LC = Lowest(CloseD(1),Nday);&#xD;&#xA;&#xD;&#xA;        If((HH - LC) &gt;= (HC - LL))&#xD;&#xA;        {&#xD;&#xA;                BuyRange = HH - LC;&#xD;&#xA;        }&#xD;&#xA;        Else&#xD;&#xA;        {&#xD;&#xA;                BuyRange = HC - LL;&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        BuyTrig = K1*BuyRange;&#xD;&#xA;        SellTrig = K2*SellRange;&#xD;&#xA;        &#xD;&#xA;        BuyPosition = OpenD(0)+BuyTrig;&#xD;&#xA;        SellPosition = OpenD(0)-SellTrig;&#xD;&#xA;        &#xD;&#xA;        PlotNumeric(&quot;BuyPosition&quot;,BuyPosition);&#xD;&#xA;        PlotNumeric(&quot;SellPosition&quot;,SellPosition);&#xD;&#xA;&#xD;&#xA;        If(MarketPosition == 0)&#xD;&#xA;        {&#xD;&#xA;                If(High&gt;=BuyPosition)&#xD;&#xA;                {&#xD;&#xA;                        Buy(lots,BuyPosition);&#xD;&#xA;                        Return;&#xD;&#xA;                }&#xD;&#xA;               &#xD;&#xA;                If(Low&lt;=SellPosition)&#xD;&#xA;                {&#xD;&#xA;                        SellShort(lots,SellPosition);&#xD;&#xA;                        Return;&#xD;&#xA;                }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        If(MarketPosition == -1)&#xD;&#xA;        {&#xD;&#xA;                If(High&gt;=BuyPosition)&#xD;&#xA;                {&#xD;&#xA;                        Buy(lots,BuyPosition);&#xD;&#xA;                        Return;&#xD;&#xA;                }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        If(MarketPosition == 1)&#xD;&#xA;        {&#xD;&#xA;                If(Low&lt;=SellPosition)&#xD;&#xA;                {&#xD;&#xA;                        SellShort(lots,SellPosition);&#xD;&#xA;                        Return;&#xD;&#xA;                }&#xD;&#xA;        }&#xD;&#xA;}&#xD;&#xA;End&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;//------------------------------------------------------------------------&#xD;&#xA;// 编译版本:	2017/11/07 162348&#xD;&#xA;// 内核版本:	V2.7.2.14&#xD;&#xA;// 版权所有	tsinghualiby14&#xD;&#xA;// 更改声明	TradeBlazer Software保留对TradeBlazer平台&#xD;&#xA;//			每一版本的TradeBlazer公式修改和重写的权利&#xD;&#xA;//------------------------------------------------------------------------" IsEncry="false" md5Key="" FormulaVersion="V2.7.2.14">
        <IsSourceInfoUpdated>false</IsSourceInfoUpdated>
        <SerVarRefCount>28</SerVarRefCount>
        <IsSrcCodeEmpty>false</IsSrcCodeEmpty>
      </Tactic>
    </Tactics>
    <TacticSettings />
  </root>
</App>